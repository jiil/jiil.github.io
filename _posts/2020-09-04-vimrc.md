---
layout: post
title: vimrc
---


``` bash
"=================================================="
" VIM SETTINGS
"=================================================="
" 마우스를 사용한다. 
" 더블 클릭으로 태그로 이동할 수 있다. 
" 혹은 C-]
" 돌아오려면 g<마우스오른쪽>
" 혹은 C-O, C-T
set mouse=a 

" number 를 켠다 (끄는건 :set nonumber)
set number 

" 찾기 시 하이라이트 한다. (끄는건 :set nohlsearch)
set hlsearch

" 찾기위해 타이핑 하는동안 반응한다. 
set incsearch

"=================================================="
" Vundle VIM
"=================================================="
set nocompatible              " be iMproved, required
filetype off                  " required

set rtp+=~/.vim/bundle/Vundle.vim
call vundle#begin()

Plugin 'VundleVim/Vundle.vim'
Plugin 'tpope/vim-fugitive'

call vundle#end()            " required
filetype plugin indent on    " required

" Brief help
" :PluginList       - lists configured plugins
" :PluginInstall    - installs plugins; append `!` to update or just :PluginUpdate
" :PluginSearch foo - searches for foo; append `!` to refresh local cache
" :PluginClean      - confirms removal of unused plugins; append `!` to auto-approve removal
```
```
$cat build
#!/bin/bash                                                                                                                        
cwd=`pwd`

gitRoot=`git rev-parse --show-toplevel`

if [ -e $gitRoot/build ]
then
        cd  $gitRoot
        rm -rf *
else
        mkdir $gitRoot/build
        cd $gitRoot/build
fi

cmake ..
make
ctest -V

cd $cwd
```

##vim tutorial ( vimtutor ko )

| 명령어 | 설명 | 느낀점 |
|------|------|-----|
|o |아래 줄 삽입 후 입력 모드  | |
|O |위에 줄 삽입 후 입력 모드  | |
|U| 줄 변경 초기화 ||
|ZZ| 저장후 종료 ||
|b/B | 이전 단어 앞/(특수문자포함)||
|w/W | 다음 단어 앞/(특수문자포함)||
|e/E| 다음 단어 뒤/(특수문자포함) ||
|ge/gE| 이전 단어 뒤/(특수문자포함)||
|^|줄의 앞단어 (공백이 아닌) ||
|0/<Home>| 줄의 맨앞 ||
|f문자| 다음으로 가며 문자를 찾음 |;와 , 로 반복 할 수 있음, 줄을 벗어나지 않음 |
|F문자 | 앞으로 가며 문자를 찾음 ||
|t문자 | f문자 한칸 앞 ||
|T문자 | F문자 한칸 뒤 ||
|%| 괄호에 매칭되는 괄호로 이동 |대박 !!|
|G| 맨끝 줄 앞으로 이동 ||
|숫자G | 숫자번째 줄로 이동 |:숫자와 동일 |
|gg| 맨 첫출로 이동 ||
|50% | 파일의 중간으로 이동 ||
|90% | 파일의 거의 끝으로 이동 ||
|H| 화면의 맨위로 이동 ||
|M| 화면의 중간으로 이동 ||
|L| 화면의 아래로 이동 ||
|C-U| 화면 위로 반만 스크롤 ||
|C-D| 화면 아래로 반만 스크롤 ||
|C-E| 화면 위로 한줄 스크롤 ||
|C-Y| 화면 아래로 한줄 스크롤 ||
|C-F| 화면 위로 스크롤 ||
|C-B| 화면 아래로 스크롤 ||
|zt| 커서가 있는 줄을 맨위로 ||
|zb| 커서가 있는 줄을 맨 아래로 ||
|zz| 커서가 있는 줄을 가운데로 ||
|C-O| 점프 스택 뒤로 점프 ||
|C-I| 점프 스택 앞으로 점프 ||
|m문자| 현재 커서 위치를 마크 한다. | 마크 한곳으로 점프하려면 '문자 |
|'| 뛰기전 마크 위치 ||
|"| 지난번 파일 편집시 커서 위치 ||
|[| 마지막 변경한 곳의 시작 ||
|]| 마지막 변경한 곳의 끝 ||
|cc| 줄 전체 바꾸기 | dda 대신 사용 |
|x| dl 커서 단어 지움 ||
|X | dh 커서 앞단어 지움||
|D | d$ 줄끝까지 지우기 ||
|C | c$ 줄 끝까지 바꾸기 ||
|s | cl 커서 글자 바꾸기 ||
|S | cc 줄 전체 바꾸기 ||

``` bash
"=================================================="
" VIM SETTINGS
"=================================================="
" ???? ????.
" ?? ???? ??? ??? ? ??.
" ?? C-]
" ????? g<??????>
" ?? C-O, C-T
set mouse=a

" number ? ?? (??? :set nonumber)
set number

" ?? ? ????? ??. (??? :set nohlsearch)
set hlsearch

" ???? ??? ???? ????.
set incsearch

set clipboard=unnamedplus
"===============================================================================
" Vundle VIM
"===============================================================================
set nocompatible              " be iMproved, required
filetype off                  " required

set rtp+=~/.vim/bundle/Vundle.vim
call vundle#begin()

Plugin 'VundleVim/Vundle.vim'
Plugin 'tpope/vim-fugitive'
Plugin 'scrooloose/nerdtree'
Plugin 'vim-airline/vim-airline'
Plugin 'vim-airline/vim-airline-themes'
Plugin 'ctrlpvim/ctrlp.vim'
Plugin 'ycm-core/YouCompleteMe'
Plugin 'SirVer/ultisnips'
Plugin 'honza/vim-snippets'

Plugin 'airblade/vim-gitgutter'
Plugin 'ronakg/quickr-cscope.vim'
Plugin 'airblade/vim-rooter'
Plugin 'bad-whitespace'
Plugin 'luochen1990/rainbow'
Plugin 'rdnetto/YCM-Generator'
Plugin 'vim-syntastic/Syntastic'
Plugin 'octol/vim-cpp-enhanced-highlight'

call vundle#end()            " required
filetype plugin indent on    " required

" Brief help
" :PluginList       - lists configured plugins
" :PluginInstall    - installs plugins; append `!` to update or just :PluginUpdate
" :PluginSearch foo - searches for foo; append `!` to refresh local cache
" :PluginClean      - confirms removal of unused plugins; append `!` to auto-approve removal

"===============================================================================
" vim Setting
"===============================================================================
set encoding=utf-8
set nu
set ai
set ts=4
set sw=4
set hlsearch
set et
nmap <C-h> :bprevious<CR>
nmap <C-l> :bnext<CR>
nmap <C-k> :bd<CR>
nmap <C-s> :w<CR>
imap <C-s> <ESC>:w<CR>a
"===============================================================================

syntax on

"===============================================================================
" Airline
"===============================================================================
let g:airline#extensions#tabline#enabled = 1
let g:airline#extensions#tabline#fnamemod = ':t'
let g:airline#extensions#tabline#buffer_nr_show = 1
let g:airline#extensions#tabline#buffer_nr_format = '%s:'
let g:airline#extentions#tabline#formatter = 'default'
let g:airline_theme='bubblegum'
let g:airline_powerline_fonts = 1
" Set this. Airline will handle the rest.
let g:airline#extensions#ale#enabled = 1
"===============================================================================

"===============================================================================
" NERD Tree
"===============================================================================
map <C-n> :NERDTreeToggle<CR>
"let g:NERDTreeDirArrowExpandable = '▸'
"let g:NERDTreeDirArrowCollapsible = '▾'
"===============================================================================

"===============================================================================
" ultisnips
"===============================================================================
let g:UltiSnipsExpandTrigger="<Tab>"
let g:UltiSnipsJumpForwardTrigger="<Tab>"
let g:UltiSnipsJumpBackwardTrigger="<S-Tab>"
let g:UltiSnipsEditSplit="vertical"
" let g:UltiSnipsSnippetDirectories = ['~/.vim/UltiSnips']
let g:UltiSnipsSnippetDirectories = ['UltiSnips']
"===============================================================================

"===============================================================================
" YCM
"===============================================================================
map <F2> :YcmCompleter FixIt<CR>
map <F3> :YcmCompleter GoToDefinitionElseDeclaration<CR>
map <F4> :YcmCompleter GoToReferences<CR>
map <F5> :YcmCompleter ReFactorName
map <C-f> :YcmCompleter Format<CR>
let g:ycm_auto_trigger = 1
let g:ycm_key_list_select_completion = ['<C-n>']
let g:ycm_key_list_previous_completion=['<C-p>']
let g:ycm_autoclose_preview_window_after_completion = 1
let g:ycm_complete_in_strings = 1
"let g:ycm_echo_current_diagnostic = 1
let g:ycm_show_diagnostics_ui = 1
"===============================================================================


"===============================================================================
" Clang format
"===============================================================================
"let g:clang_format#style_options = 'file'
"let g:clang_format#style_options={
"    \ "Standard" : "C++11" ,
"    \ "BasedOnStyle" : "Google",
"    \ "ColumnLimit" : "100",
"    \ "AlignAfterOpenBracket" : "Align",
"    \ "AlignConsecutiveAssignments" : "true",
"    \ "AlignConsecutiveDeclarations" : "true",
"    \ "AlignTrailingComments" : "true",
"    \ "AllowAllConstructorInitializersOnNextLine" : "false",
"    \ "AllowShortBlocksOnASingleLine" : "Never",
"    \ "AllowShortIfStatementsOnASingleLine" : "Never",
"    \ "AllowShortLoopsOnASingleLine" : "false",
"    \ "AllowShortFunctionsOnASingleLine" : "Empty",
"    \ "AllowShortLambdasOnASingleLine" : "None",
"    \ "BreakBeforeBraces" : "Custom",
"    \ "BreakConstructorInitializers" : "AfterColon",
"    \ "BraceWrapping":{
"    \ "AfterClass" : "true",
"    \ "AfterEnum" : "true",
"    \ "AfterStruct" : "true",
"    \ "AfterFunction" : "true",
"    \ "AfterNamespace" : "false",
"    \ "AfterControlStatement" : "Always",
"    \ "BeforeCatch" : "true",
"    \ "BeforeElse" : "true",
"    \ "SplitEmptyFunction" : "true",
"    \ "SplitEmptyRecord" : "true"
"    \ },
"    \ "MaxEmptyLinesToKeep" : "1"
"    \ }
"
"let g:clang_format#detect_style_file = 1
"===============================================================================

"===============================================================================
"vim rooter
"===============================================================================
" let g:rooter_manual_only = 1
let g:rooter_patterns = ['.ctrlp', 'build.gradle', '.git', '.classpath', 'AndrodiManifest.xml']
"===============================================================================

"===============================================================================
"rainbow
"===============================================================================
let g:rainbow_active= 1
"===============================================================================
"
"===============================================================================
"cscope func
"===============================================================================
function! LoadCscope()
    let db = findfile("cscope.out", ".;")
    if (!empty(db))
        let path = strpart(db, 0, match(db, "/cscope.out$"))
        set nocscopeverbose " suppress 'duplicate connection' error
        exe "cs add " . db . " " . path
        set cscopeverbose
    "else add the database pointed to by environment variable
    elseif $CSCOPE_DB != ""
        cs add $CSCOPE_DB
    endif
endfunction
au BufEnter /* call LoadCscope()

"===============================================================================

"===============================================================================
" Syntastic
"===============================================================================
"set statusline+=%#warningmsg#
"set statusline+=%{SyntasticStatuslineFlag()}
"set statusline+=%*
highlight link SyntasticError Error
highlight link SyntasticWarning Todo
let g:syntastic_error_symbol = 'X'
"let g:syntastic_error_symbol = '✗✗'
let g:syntastic_warning_symbol = '⚠️'
"let g:syntastic_warning_symbol = '≈≈'

let g:syntastic_always_populate_loc_list = 1
let g:syntastic_auto_loc_list = 1
let g:syntastic_check_on_open = 1
let g:syntastic_check_on_wq = 0

let g:syntastic_cpp_compiler = 'g++'
let g:syntastic_cpp_compiler_options = "-std=c++11 -stdlib=libc++ -Wall -Wextra -Wpedantic"
"let g:syntastic_c_compiler_options = "-std=c11 -Wall -Wextra -Wpedantic"

let g:syntastic_cpp_checkers = ['clang_tidy']
let g:syntastic_cpp_cppcheck_args = "--language=c++"
let g:syntastic_cpp_clang_check_args= ". --extra-arg=-Wno-unknown-warning-option"
let g:syntastic_cpp_check_header = 1
let g:syntastic_cpp_auto_refresh_includes = 1
let g:syntastic_cpp_clang_tidy_args = '-checks=*,-*-braces-around-statements,-*-header-guard,-*-pragma-once-outside-header,-misc-non-private-member-variables-in-classes,-*-use-trailing-return-type,-google-readability-todo,-google-runtime-references,-llvm-include-order,-*-vararg,-*-default-arguments-calls --extra-arg=-Ilib --extra-arg=-Iexternal/slm --extra-arg=-Iexternal/rapidjson --extra-arg=-Iexternal/libdeflate'
noremap <C-c> :let g:ycm_show_diagnostics_ui = 0<cr>:SyntasticCheck clang_tidy<cr>
noremap <C-x> :let g:ycm_show_diagnostics_ui = 1<cr>
"===============================================================================

"===============================================================================
" clang-include-fixer
"===============================================================================
let g:clang_include_fixer_path='clang-include-fixer-10'
noremap <C-i> :py3f /usr/lib/llvm-10/share/clang/clang-include-fixer.py<cr>
"===============================================================================
"===============================================================================
" include what you use
"===============================================================================
function! s:ExecuteInShell(command)
  let command = join(map(split(a:command), 'expand(v:val)'))
  let winnr = bufwinnr('^' . command . '$')
  silent! execute  winnr < 0 ? 'botright vnew ' . fnameescape(command) : winnr . 'wincmd w'
  setlocal buftype=nowrite bufhidden=wipe nobuflisted noswapfile nowrap number
  echo 'Execute ' . command . '...'
  silent! execute 'silent %!'. command
  silent! execute 'resize '
  silent! redraw
  silent! execute 'au BufUnload <buffer> execute bufwinnr(' . bufnr('#') . ') . ''wincmd w'''
  silent! execute 'nnoremap <silent> <buffer> <LocalLeader>r :call <SID>ExecuteInShell(''' . command . ''')<CR>'
  echo 'Shell command ' . command . ' executed.'
endfunction
command! -complete=shellcmd -nargs=+ Shell call s:ExecuteInShell(<q-args>)

noremap <C-y> :Shell /usr/local/bin/iwyu_tool.py -p build/compile_commands.json -o clang <C-R>=expand("%:p")<CR> -- -w <cr>
"===============================================================================

noremap <C-b> :Shell ~/bin/single_build <C-R>=expand("%:p")<CR><cr>
```

cat single_build

#!/bin/bash

if [ "x$1" = "x" ]; then
    exit 0
fi
path=$1
dir=${path%/*}
file=`basename $1`
name=${file%.*}
builddir=$dir/.single_build

echo $builddir

mkdir -p $builddir
cd $builddir

cat > CMakeLists.txt<< EOF
cmake_minimum_required(VERSION 3.5)
project($name)

set(CMAKE_CPP_STANDARD C11)
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)

ADD_EXECUTABLE($name ../$file)
EOF

cmake .
make -j8
python /usr/lib/llvm-10/share/clang/run-find-all-symbols.py -j8 -binary /usr/bin/find-all-symbols-10
cd ..
rm -rf compile_commands.json
rm -rf find_all_symbols_db.yaml
ln -s $builddir/compile_commands.json .
ln -s $builddir/find_all_symbols_db.yaml .
echo "==RUN=="
$builddir/$name
	
cat pass
	
#!/bin/expect  -f

#set password [lindex $argv 0]
set fd [open /home/sua/bin/password r]
set password [read $fd]
close $fd

eval spawn [lrange $argv 0 end]
expect "password for sua:"

send "$password\r"

interact
        
``` bash
" =============================================================================
" 유닉스 윈도우 공용 .vimrc 파일
" Edited by Guk-Bong Kwon<gbkwon at kebi.com>
" =============================================================================
"
" =============================================================================
" $VIMRUNTIME 을 먼저 설정 해준다. 기본적으로 설정을 해주지 않아도 되나 인식이
" 안되는 시스템이 있어 기본 값으로 설정을 해 준다.
" =============================================================================
let $VIMRUNTIME="/usr/share/vim/vim74"
" =============================================================================
" 기본적으로 설정되는 예제들을 포함 한다. history .. 등..
" =============================================================================
source $VIMRUNTIME/vimrc_example.vim
" =============================================================================
" selection, selectmode mousemodel 등 xterm-color 에 해당되는 내용을 기본으로
" 설정 해준다.
" set 'selection', 'selectmode', 'mousemodel' and 'keymodel' for xterm-color
" =============================================================================
behave xterm
" =============================================================================
" 여기서 부터는 기본적인 값들을 하나씩 설정 한다.
" =============================================================================
" =============================================================================
" 엔터를 치거나 O, o 로 줄을 삽입 할때 자동으로 indentition 하는 가에 대한
" 옵션이다.
" =============================================================================
"set ai
" =============================================================================
" 아래와 같은 명령시 자동으로 저장 하는 가에 대한 옵션이다.
" :next, :rewind, :last, :first, :previous, :stop, :suspend, :tag, :!,
" :make, CTRL-] and CTRL-^ command; and when a CTRL-O, CTRL-I,
" '{A-Z0-9}, or `{A-Z0-9} command takes one to another file.
" =============================================================================
"set aw
" =============================================================================
" 아래와 같은 명령어시 모두 저장하는 가에 대한 옵션이다.
" Like 'autowrite', but also used for commands ":edit", ":quit",
" ":qall", ":exit", ":xit", ":recover" and closing the Vim window.
" =============================================================================
"set awa
" =============================================================================
" 파일을 열어서 편집 하고 있는 중에 파일이 변경 되었을때 자동으로 읽어서
" 갱신하는 가에 대한 옵션이다. 자동으로 갱신을 하면 내가 편집한 부분에 대해서
" 분실할 위험이 있다.
" =============================================================================
" set autoread
" =============================================================================
" vim 은 기본적으로 파일을 저장 하기 전에 백업 파일을 만드는데 그 파일을
" 저장하는 디렉토리를 설정 하는 부분이다.
" =============================================================================
set nobackup
"if has("unix")
"set backupdir=~/tmp,~/,/tmp
"elseif has ("win32")
"set backupdir=C:\Vim\backup
"endif
" =============================================================================
" 맨아래 보이는 명령줄의 높이를 정하는 옵션이다. 기본 값이 1이다.
" =============================================================================
"set ch=1
" =============================================================================
" C언어를 작성할때 indentition 을 할 것 인가에 대한 옵션이다.
" =============================================================================
set cindent
" =============================================================================
" 구식 vi 와 동일하게 작동할 것인가에 대한 옵션이다. 구식 vi와 동일하게
" 작동하도록 설정된다면 많은 편리한 기능을 사용할수 없을 것이다.
" =============================================================================
set nocompatible
" =============================================================================
" 인코딩에 대한 설정이다.  윈도우와 유닉스가 틀리다.
" =============================================================================
"if has("unix")
"set encoding=UTF-8
"elseif has ("win32")
"set encoding=cp949
"endif
" =============================================================================
" indentition 시 탭대신 공백을 삽입 하는가에 대한 옵션이다. 이 옵션의 경우
" Makefile 를 작성할때는 필히 꺼야 되는 옵션이다 Makefile 는 탭과 공백을
" 정확히 구분하기 때문이다. 탭으로 정확히 작성되었는가를 알아 볼려면 :set list
" 명령을 주면 정확히 알아 볼수 있게 된다.
" =============================================================================
set expandtab
"au BufNewFile,BufRead [mM]akefile,[mM]akefile*,GNUmakefile,*.mk,*.mak,*.dsp
" set noexpandtab
" =============================================================================
" 현재 디렉토리에 .vimrc 가 있을 경우 ~/.vimrc 를 읽어 초기화후에 현재
" 디렉토리에 .vimrc를 더불어 읽어 옵션을 다시 설정 한다.
" ./.vimrc 를 읽어 들이기 위함 exrc 가 더 나중에 실행 되는 것 같음
" =============================================================================
"set exrc
"au BufNewFile,BufRead *.c,*.h,*.java,*.cpp,*.jsp,*.php,*.ph set exrc
" exrc 가 안되서 임시 방편
"if has("unix")
"au BufNewFile,BufRead *.c,*.h,*.java,*.cpp,*.jsp,*.php,*.ph
"\ if filereadable(".vimrc") | so .vimrc | endif
"elseif has("win32")
"au BufNewFile,BufRead *.c,*.h,*.java,*.cpp,*.jsp,*.php,*.ph
"\ if filereadable("_vimrc") | so _vimrc | endif
"endif
" =============================================================================
" 파일에 대한 인코딩을 설정한다. encoding, fileencoding, fileencodings 의 상관
" 관계를 정확히 알지 못하겠다.
" =============================================================================
"if has("unix")
"set fileencoding=euc-kr
"elseif has ("win32")
"set fileencoding=cp949
"endif
" =============================================================================
" 파일의 인코딩을 설정한다.
" =============================================================================
"set fileencodings=euc-kr
" =============================================================================
" 폴더를 사용하는 방법에 대해서 설정한다. marker 는 { {{ 와 같은 표식을
" 사용하여 폴딩 되는 소스의 범위를 설정 해 놓는다. 이는 이 파일을 다시
" 열었을때 기존의 폴더 정보를 그대로 유지 할수 있게 해 준다.
" =============================================================================
"set foldmethod=marker
" =============================================================================
" 폴더 설정이 되어 있는 파일을 열었을때 폴더 되어 있는 레벨을 설정한다.
" 기본값 0이고 모두 폴딩된다.
" =============================================================================
"set fdl=1
" =============================================================================
" 소스파일이 폴딩 되어 있을때 폴딩범위를 보여주는 컬럼의 수를 설정한다.
" =============================================================================
"set fdc=3
" =============================================================================
" 파일 편집시 undo 할수 있는 최대 횟수를 설정한다.
" =============================================================================
set history=1000
" =============================================================================
" search 시 찾는 단어를 하이라이팅 해 준다.
" =============================================================================
set hlsearch
" =============================================================================
" 찾기, 바꾸기 등에서 대소문자 구분을 하지 않는다.
" =============================================================================
"set ignorecase
" =============================================================================
" search시(/) 영어로 입력이 시작 되게 한다.
" =============================================================================
set iminsert=0
set imsearch=0
" =============================================================================
" 한텀에서 한영전환을 Shift+space 로 변경할 수 있게 한다.
" =============================================================================
"set imactivatekey=S-space
" =============================================================================
" status line(맨아래 상태줄)이 항상 나오게 해 준다. 기본은(1) 두개 이상의
" 윈도우를 열었을시(윈도우를 split할때)만 나오게 된다.
" =============================================================================
"set laststatus=2
" =============================================================================
" 뭘 뜻하는지 잘 모르겠다.
" =============================================================================
"set linebreak
" =============================================================================
" 줄번호를 보여 준다.
" =============================================================================
"set number
" =============================================================================
" >>, << command 시 shift 할 크기를 정해준다 통상 와 동일하게 설정 하면 된다.
" =============================================================================
set shiftwidth=4
" =============================================================================
" 닫는 괄호")", 브라켓"}"을 입력시 매칭되는 여는 괄호, 브라켓에 잠시 커서가
" 위치했다가 다시 제자리로 돌아 온다.
" =============================================================================
set showmatch
" =============================================================================
" 뭘 뜻하는지 잘 모르겠다.
" =============================================================================
set smarttab
" =============================================================================
"
" =============================================================================
set smartindent
" =============================================================================
"
" =============================================================================
set softtabstop=4
" =============================================================================
" 화면 맨 아래 상태 줄이 어떻게 나오는 가를 형식화 하는 것이다.
" =============================================================================
"set statusline=\ %F\ %m%h%r\ [%P]\ %a\ %<%l:%v\
" Format the statusline
" set statusline=\ %{HasPaste()}%F%m%r%h\ %w\ \ CWD:\ %r%{CurDir()}%h\ \ \ Line:\ %l/%L:%c
"
"
"function! CurDir()
"    let curdir = substitute(getcwd(), '/Users/amir/', "~/", "g")
"    return curdir
"endfunction
"
"function! HasPaste()
"    if &paste
"        return 'PASTE MODE  '
"    else
"        return ''
"    endif
"endfunction
set statusline=%<%f%h%m%r%=%{strftime(\"%l:%M:%S\ \%p,\ %a\ %b\ %d,\ %Y\")}\ %{&ff}\ %l,%c%V\ %P
" =============================================================================
" 각 파일의 성격(?)에 맞게 색깔로 보여 준다.
" =============================================================================
syntax on
" =============================================================================
" vi가 끝난 후에 화면 제어를 한다. 즉 vi가 끝이 난후 화면을 vi가 시작 하기
" 전으로 되될려 놓는가 아닌가를 결정 한다. 보통 xterm* 의 경우는 vi가 시작 되기
" 전의 화면으로 되돌려 놓는다.
" =============================================================================
"set t_te=""
"set t_ti=""
" =============================================================================
" 탭으로 사용할 크기를 정한다. tabstop 를 4로 둘경우 기존의 많은 소스들의
" indentation 이 깨어 지기 때문에 tabstop는 8로 놓고 shiftwidth을 4로 놓으면
" 보는 소스는 tabstop를 8로 볼수 있고 직접 작성하는 소스에 indentation을 4로
" 맞출수가 있다. 요즘은 tabstop이 4로 가는 추세이다.
" =============================================================================
set tabstop=4
" =============================================================================
" 운영체제에 맞는 터미널을 설정한다. 유닉스의 경우는 xterm 이나
" xterm-color으로 설정하고 MS 윈도우의 경우는 win32로 설정한다. 유닉스의 경우
" 터미널에 따라 backspace, del 키가 작동을 달리 하니 각 터미널을 사용해 보고
" 오작동 하지 않는 터미널을 선택하여 사용한다.
" =============================================================================
set term=xterm-color
"" =============================================================================
" 확장자가 txt 로 끝나는 파일을 작성시 혹은 편집시 폭을 80으로 설정한다. 이는
" 80 column 이 넘게 되면 자동으로 Enter을 넣어 준것과 같은 효과를 낸다.
" =============================================================================
"au BufNewFile,BufRead *.txt set textwidth=80
" =============================================================================
" search 시 파일의 맨끝까지 다 찾고 난뒤 다시 파일의 처음으로 돌아가서 찾을수
" 있게 해주는 것이다. 기본값은 on 이다.
" =============================================================================
"set nowrapscan
" =============================================================================
" 색깔 설정
" 윈도우의 경우는 MS, MSB라는 새로운 두가지 색깔을 정의 해서 사용한다.
" =============================================================================
"hi Folded ctermbg=Brown ctermfg=Black
"hi FoldColumn ctermfg=DarkBlue ctermbg=NONE
"hi LineNr ctermfg=DarkBlue
"hi DiffAdd term=bold ctermbg=Brown
""" bold off
"hi NonText cterm=NONE
"hi ErrorMsg cterm=NONE
"hi ModeMsg cterm=NONE
"hi StatusLine term=REVERSE cterm=NONE ctermfg=3 ctermbg=black
"hi VisualNOS term=NONE cterm=NONE
"hi DiffDelete term=NONE cterm=NONE
"hi DiffText cterm=NONE
"hi Error cterm=NONE
" =============================================================================
" =============================================================================
" 확장 매크로 설정
" =============================================================================
" map <F5> v]}zf
" =============================================================================
" =============================================================================
" 컬러링된 html 만들기
" =============================================================================
"com! Html :so /usr/local/share/vim/vim/syntax/2html.vim
" =============================================================================
" 다음 에러 및 이전에러 난곳으로 가기
" =============================================================================
"map <C-1>^vt="z:%s /${?<C-r>z/
"shell 변수 치환
"map <F3> ^vt="zyf=lv$h"xy:%s /$[{]*<C-r>z[}]*/<C-r>x/g<CR>
"map <F1> :cn<CR>
"imap <F1> <ESC>:cn<CR>
" 아래 키는 안먹는다.
"map <C-F1> :cp<CR>
"imap <C-F1> <ESC>:cp<CR>

" =============================================================================
" 주석 처리 및 제거 하기
" =============================================================================
"nmap <silent> <unique> <F2> <Plug>Traditionalj
"imap <silent> <unique> <F2> <Esc><Plug>Traditionalji
"vmap <silent> <unique> <F2> <Plug>Traditionalj
"<F3> - 줄 끝에 주석을 더한다.
"map <F3> <End>a<Tab>/*<SPACE>*/<LEFT><LEFT>
"imap <F3> <End><Tab>/*<SPACE>*/<LEFT><LEFT>
""<F4> - 탭을 더한다.
"map <F4> i<TAB><ESC><RIGHT>
"imap <F4> <ESC><TAB><ESC><RIGHT>i
""<F6> - :sts
""<F6> - :sts
"":sts 가 안되어서 비슷하게..
"map <F6> :sts<CR>
"imap <F6> <ESC>:sts<CR>
" g] 모든 태그를 보고 그중에서 고른다.
"map <F6> <C-W>g]
"imap <F6> <C-W>g]
" =============================================================================
" MS-WINDOWS 에서 창 크기 최대화 하기
" =============================================================================
""<F8> - :simalt~x
"if has("unix")
"elseif has("win32")
"map <F8> :simalt~x<CR>
"imap <F8> :simalt~x<CR>
"endif
" =============================================================================
" <F9> - :retab
" =============================================================================
"map <F9> :retab<CR>:w<CR>
"imap <F9> <ESC>:retab<CR>:w<CR>a
" =============================================================================
" <F10> - :set fileformat=unix
" =============================================================================
"if has("unix")
"map <F10> :set ff=unix<CR>:w<CR>
"imap <F10> <ESC>:set ff=unix<CR>:w<CR>a
"elseif has("win32")
"map <F10> :set ff=dos<CR>:w<CR>
"imap <F10> <ESC>:set ff=dos<CR>:w<CR>a
"endif
" =============================================================================
" 자동으로 Makefile 를 찾어서 컴파일 한다.
" =============================================================================
"if has("unix")
"nmap <silent><unique> <F5> :make<CR>:cwin<CR>
""    set makeprg=make\ %<
"au BufNewFile,BufRead *.c if !filereadable("Makefile") && !filereadable("GNUmakefile") |
"\ set makeprg=gcc\ -Wall\ -ggdb\ -I.\ -L.\ %\ -o\ %< |
"\ endif
"au BufNewFile,BufRead *.cpp if !filereadable("Makefile") && !filereadable("GNUmakefile") |
"\ set makeprg=g++\ -Wall\ -ggdb\ -I.\ -L.\ %\ -o\ %< |
"\ endif
"endif

" =============================================================================
" :Sexplorer command 시에 vertical 로 화면을 나누면서 explorer을 보여 준다.
" pi_expl.txt 50 line 참조 vertical 로 나눈다.
" =============================================================================
"let g:explVertical=1
" 화면의 크기를 동일하게 한다.
"let g:explWinSize=""
" 화면을 분할 할때 오른쪽에 새 화면이 오게 한다.
"let g:explSplitRight=1
" 디렉토리 리스팅을 할 적에 기본 값을 자세하게 리스팅 할수 있도록 한다.
" 시간이 많이 걸린다.
"let g:explDetailedList=1
" =============================================================================
" 자동으로 fold 된 상태를 저장한다.
" =============================================================================
"au BufWinLeave *.c mkview
"au BufWinEnter *.c silent loadview
" =============================================================================
" 테스트
" =============================================================================
" 자동으로 }닫는 매크로
au BufNewFile,BufRead *.c imap { {<CR>}<ESC>O
au BufNewFile,BufRead *.c imap ( ( )<LEFT><LEFT>
" 메뉴 및 메세지를 다른언어로 표현(인코딩에는 전혀 영향이 없음)
"source $VIMRUNTIME/delmenu.vim
"set langmenu=none
"source $VIMRUNTIME/menu.vim
"lan en-us
" 현재 줄 하이라이팅 약간의 버그가 있네..
"hi Search ctermfg=Black ctermbg=Yellow
"nmap <silent> j :exe '/\%'.(line(".")+1).'l.*'<cr>
"nmap <silent> k :exe '?\%'.(line(".")-1).'l.*'<cr>
"set shm=""
" =============================================================================
"vundle setting 
" =============================================================================
filetype off
set rtp+=~/.vim/bundle/vundle/
call vundle#rc()
"let Vundle manage Vundle
" required! 
Bundle 'matchit.zip'
Bundle 'L9'

" My Bundles here:
Bundle 'The-NERD-tree'
Bundle 'FuzzyFinder'
Bundle 'gitv'
Bundle 'fugitive.vim'
Bundle 'xptemplate'
Bundle 'Engspchk'
"Bundle 'Search-Google'

" original repos on github
Bundle 'gmarik/vundle'
Bundle 'vim-ruby/vim-ruby'
Bundle 'astashov/vim-ruby-debugger'
Bundle 'alunny/pegjs-vim'
Bundle 'wookiehangover/jshint.vim'
Bundle 'mattn/webapi-vim'
Bundle 'mattn/gist-vim'
Bundle 'orlandov/vimfluence'
Bundle 'mnpk/vim-jira-complete'
Bundle 'Valloric/YouCompleteMe'
Bundle 'marijnh/tern_for_vim'



" vim-scripts repos
Bundle 'taglist.vim'
Bundle 'searchfold.vim'
"Bundle 'jslint.vim'
Bundle 'node.js'
Bundle 'AutoComplPop'
" non github repos

" ...
filetype plugin indent on     " required! 
"
" Brief help
" :BundleList          - list configured bundles
" :BundleInstall(!)    - install(update) bundles
" :BundleSearch(!) foo - search(or refresh cache first) for foo
" :BundleClean(!)      - confirm(or auto-approve) removal of unused bundles
"
" see :h vundle for more details or wiki for FAQ
" NOTE: comments after Bundle command are not allowed..

" =============================================================================
" vim-ruby/vim-ruby settings
" =============================================================================
" auto complete: <ctrl-x><ctrl-o>
let g:rubycomplete_buffer_loading = 1
let g:rubycomplete_classes_in_global = 1
let ruby_space_errors = 1
let ruby_operators = 1
let ruby_minlines = 100
autocmd FileType ruby compiler ruby
" =============================================================================
" xptemplate
" =============================================================================
" avoid key conflict
"let g:SuperTabMappingForward = '<C-X><C-O>'

" if nothing matched in xpt, try supertab
"let g:xptemplate_fallback = '<C-X><C-O>'

" xpt uses <Tab> as trigger key
let g:xptemplate_key = '<Tab>'

" " use <tab>/<S-tab> to navigate through pum. Optional
" let g:xptemplate_pum_tab_nav = 1

" " xpt triggers only when you typed whole name of a snippet. Optional
" let g:xptemplate_minimal_prefix = 'full'

" =============================================================================
" super tab fot fix vim-ruby autocomplete 
" =============================================================================
"let g:SuperTabDefaultCompletionType = "<C-X><C-O>"
"
" =============================================================================
" TagList 
" =============================================================================
let Tlist_Compact_Format = 1
let Tlist_Ctags_Cmd = '/usr/bin/ctags'
let Tlist_Use_Right_Window = 1
map <Leader>l <ESC>:TlistToggle<CR>

" =============================================================================
" NERDTree
" =============================================================================
map <Leader>nt <ESC>:NERDTree<CR>

" =============================================================================
" FuzzyFinder
" =============================================================================
map <leader>ff :FufFile <cr>
map <leader>fb :FufBuffer <cr>

" =============================================================================
" vim google scribe
" =============================================================================
au filetype vimwiki setl completefunc=googlescribe#Complete
au filetype markdown setl completefunc=googlescribe#Complete
au filetype gitcommit setl completefunc=googlescribe#Complete

" =============================================================================
" vim gist setting 
" =============================================================================
let g:gist_use_password_in_gitconfig = 1
let g:gist_clip_command = 'xclip -selection clipboard'
let g:gist_detect_filetype = 1
let g:gist_open_browser_after_post = 1

filet plugin indent on

au BufRead,BufNewFile *.doxy setl ft=doxygen

set tags+=/usr/include/tags
set mouse=a
"set title

" Remove the Windows ^M - when the encodings gets messed up
" noremap <Leader>m mmHmt:%s/<C-V><cr>//ge<cr>'tzt'm

"Quickly open a buffer for scripbble
" map <leader>q :e ~/buffer<cr>
" au BufRead,BufNewFile ~/buffer iab <buffer> xh1 ===========================================

" map <leader>pp :setlocal paste!<cr>

" map <leader>bb :cd ..<cr>

set rulerformat=%70(%F\ %{strftime('%m%d\ %I:%M')}\ %5l/%L,%c%)
map <F8> ggi<CR>[Description] <CR><CR>Change-Id: I<ESC>:r!git rev-parse HEAD<CR>kJx$a<CR>Signed-off-by: <ESC>:r!git config user.name<CR>kJ$a <<ESC>:r!git config user.email<CR>kJx$a><ESC>ggi
"map <F7> gg^yypkf(f.f.l<C-A>o<CR>  *<CR><CR> -- hyoun jiil <<ESC>:r!git config --global --get user.email<CR>kJx$a>  <ESC>:r!date -R<CR>kJo<ESC>kkk$a 
"map <F5> f{v%zf	
set background=dark

hi Pmenu ctermbg=blue
hi PmenuSel ctermbg=yellow ctermfg=black
hi PmenuSbar ctermbg=blue

if &diff
	map Q :cquit<cr>
endif

function! Smart_TabComplete()
  let line = getline('.')                         " current line

  let substr = strpart(line, -1, col('.')+1)      " from the start of the current
                                                  " line to one character right
                                                  " of the cursor
  let substr = matchstr(substr, "[^ \t]*$")       " word till cursor
  if (strlen(substr)==0)                          " nothing to match on empty string
    return "\<tab>"
  endif
  let has_period = match(substr, '\.') != -1      " position of period, if any
  let has_slash = match(substr, '\/') != -1       " position of slash, if any
  if (!has_period && !has_slash)
    return "\<C-X>\<C-P>"                         " existing text matching
  elseif ( has_slash )
    return "\<C-X>\<C-F>"                         " file matching
  else
    return "\<C-X>\<C-O>"                         " plugin matching
  endif
endfunction

inoremap <tab> <c-r>=Smart_TabComplete()<CR>

let g:nodejs_complete_config = {
\  'js_compl_fn': 'jscomplete#CompleteJS',
\  'max_node_compl_len': 15
\}

"vim-jira-complete required
let g:jiracomplete_url = 'http://172.21.17.127/'
let g:jiracomplete_username = 'jiil.hyoun'
let g:jiracomplete_password = '7250199'

```
